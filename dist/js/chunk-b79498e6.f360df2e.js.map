{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/views/RentBike.vue","webpack:///./src/views/RentBike.vue?f698"],"names":["$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","class","for","style","to","src","alt","type","id","switchRentReturn","swicthBikeRoad","href","map","myLayer","wkt","Wkt","markers","MarkerClusterGroup","AppID","AppKey","GMTString","Date","toUTCString","ShaObj","setHMACKey","update","HMAC","getHMAC","Authorization","data","local","road","myLayers","latitude","NaN","longitude","areaKey","swichBikeStation","switchBikesRoad","currentCategory","TXG","KEE","HSQ","MIA","CHA","NWT","NAN","YUN","CYQ","CYI","PIF","ILA","HUA","TTT","KIN","PEN","TAO","TPE","KHH","TNN","methods","getBikeRentPosition","url","$http","get","headers","then","res","dataArry","forEach","item","BikesCapacity","StationAddress","StationPosition","StationID","AuthorityID","push","getBikeRentInfo","indexData","el","StationUID","AvailableRentBikes","AvailableReturnBikes","ServiceStatus","renderMarker","getBikeRoad","Geometry","read","toJson","showBikeRoad","changeMapCenter","panTo","setZoom","renderMap","redIcon","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","tileLayer","attribution","addTo","marker","center","icon","stationBike","divIcon","html","className","addLayer","PositionLat","PositionLon","showRentMarker","removeMarker","showReturnMarker","color","weight","opacity","obj","geoJSON","addData","fitBounds","getBounds","eachLayer","layer","removeLayer","removeBikeRoad","getLocation","navigator","geolocation","getCurrentPosition","showPosition","position","coords","zoom","mounted","__exports__","render"],"mappings":"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","file":"js/chunk-b79498e6.f360df2e.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","<template>\n  <nav class=\"bg-primary navHeader py-6\">\n    <div class=\"container\">\n      <div class=\"d-flex justify-content-between align-items-center\">\n        <!-- a 連結到首頁 -->\n        <router-link to=\"/\"\n          ><img\n            class=\"navHeader-logo d-none d-lg-block\"\n            :src=\"require('@/assets/img/logo.png')\"\n            alt=\"\"\n          />\n          <i class=\"bi bi-chevron-left d-block d-lg-none text-dark\"></i>\n        </router-link>\n        <!-- 切換租車、還車量  -->\n        <label class=\"switchBike d-none d-lg-block\" for=\"switchbike\">\n          <div class=\"switchBike-text\">\n            <span class=\"d-flex align-items-center\"\n              ><i class=\"fas fa-biking me-3\"></i>租 車</span\n            >\n            <span class=\"d-flex align-items-center\"\n              ><i class=\"fas fa-parking me-3\"></i>還 車</span\n            >\n          </div>\n          <input type=\"checkbox\" id=\"switchbike\" @click=\"switchRentReturn()\" />\n          <div class=\"switchBike-control text-primary\">\n            <span><i class=\"fas fa-biking me-3\"></i>租 車</span>\n            <span><i class=\"fas fa-parking me-3\"></i>還 車</span>\n          </div>\n        </label>\n        <!-- 切換顯示，車道 -->\n        <label class=\"switchRoad\" for=\"switchroad\">\n          <input type=\"checkbox\" id=\"switchroad\" @click=\"swicthBikeRoad()\"/>\n          <div class=\"switchRoad-text px-3\">\n            <span>顯示車道</span>\n            <span>隱藏車道</span>\n          </div>\n        </label>\n      </div>\n    </div>\n  </nav>\n  <div class=\"position-relative\">\n    <!-- 尋找站點，暫時關閉 -->\n    <div class=\"mt-3 w-25 d-none\n    position-absolute start-50 top-10 translate-middle\" style=\"z-index:1000;\">\n      <input\n        type=\"text\"\n        class=\"form-control me-3\"\n        id=\"exampleFormControlInput1\"\n        placeholder=\"尋找站點\"\n      />\n      <!-- search btn -->\n      <a href=\"#\" class=\"btn btn-dark\"><i class=\"bi bi-search\"></i></a>\n    </div>\n    <div id=\"map\" class=\"map mapBike\"></div>\n    <!-- footer table開始出現 -->\n    <footer class=\n    \"d-lg-none py-3\n    d-flex bg-primary position-absolute bottom-0 w-100\"\n    style=\"z-index:1000;\">\n    <div class=\"w-50 text-center\">\n      <a href=\"#\" @click.prevent=\"switchRentReturn()\"\n      class=\"footerBar-link text-decoration-none\"><i class=\"fas fa-biking me-3\"></i>租 車</a>\n    </div>\n    <div class=\"w-50 text-center\">\n      <a href=\"#\" @click.prevent=\"switchRentReturn()\"\n      class=\"footerBar-link text-decoration-none\"><i class=\"fas fa-parking me-3\"></i>還 車</a>\n    </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport JsSHA from 'jssha';\nimport L from 'leaflet';\nimport Wkt from 'wicket';\nimport 'leaflet.markercluster/dist/leaflet.markercluster';\n\nlet map = {};\nlet myLayer = {};\nconst wkt = new Wkt.Wkt();\nconst markers = new L.MarkerClusterGroup();\nconst getAuthorizationeHader = () => {\n  const AppID = process.env.VUE_APP_TRX_ID;\n  const AppKey = process.env.VUE_APP_TRX_KEY;\n  const GMTString = new Date().toUTCString();\n  const ShaObj = new JsSHA('SHA-1', 'TEXT');\n  ShaObj.setHMACKey(AppKey, 'TEXT');\n  ShaObj.update(`x-date: ${GMTString}`);\n  const HMAC = ShaObj.getHMAC('B64');\n  const Authorization = `hmac username=\"${AppID}\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"${HMAC}\"`;\n  return { Authorization, 'X-Date': GMTString };\n};\n\nexport default {\n  data() {\n    return {\n      local: {},\n      data: [],\n      road: [],\n      myLayers: [],\n      latitude: NaN,\n      longitude: NaN,\n      areaKey: '',\n      swichBikeStation: true,\n      switchBikesRoad: true,\n      currentCategory: {\n        TXG: 'Taichung',\n        KEE: 'Keelung',\n        HSQ: 'HsinchuCounty',\n        MIA: 'MiaoliCounty',\n        CHA: 'ChanghuaCounty',\n        NWT: 'NewTaipei',\n        NAN: 'NantouCounty',\n        YUN: 'YunlinCounty',\n        CYQ: 'ChiayiCounty',\n        CYI: 'Chiayi',\n        PIF: 'PingtungCounty',\n        ILA: 'YilanCounty',\n        HUA: 'HualienCounty',\n        TTT: 'TaitungCounty',\n        KIN: 'KinmenCounty',\n        PEN: 'PenghuCounty',\n        TAO: 'Taoyuan',\n        TPE: 'Taipei',\n        KHH: 'Kaohsiung',\n        TNN: 'Tainan',\n      },\n    };\n  },\n  methods: {\n    getBikeRentPosition() { // 抓取bike station，必須兩種資料都傳進來否則會影響後面icon\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bike/Station/NearBy?$top=30&$spatialFilter=nearby(${this.latitude},${this.longitude},800)`;\n      this.$http.get(url, { headers: getAuthorizationeHader() })\n        .then((res) => {\n          const dataArry = res.data;\n          dataArry.forEach((item) => {\n            const data = {\n              BikesCapacity: item.BikesCapacity,\n              StationAddress: item.StationAddress,\n              StationPosition: item.StationPosition,\n              StationID: item.StationID,\n              AuthorityID: item.AuthorityID,\n            };\n            this.data.push(data);\n          });\n          this.getBikeRentInfo();\n        });\n    },\n    getBikeRentInfo() {\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Bike/Availability/NearBy?$top=30&$spatialFilter=nearby(${this.latitude},${this.longitude},800)`;\n      this.$http.get(url, { headers: getAuthorizationeHader() })\n        .then((res) => {\n          const dataArry = res.data;\n          dataArry.forEach((item) => {\n            const indexData = this.data.find((el) => el.StationID === item.StationID);\n            if (indexData) {\n              indexData.StationUID = item.StationUID;\n              indexData.AvailableRentBikes = item.AvailableRentBikes;\n              indexData.AvailableReturnBikes = item.AvailableReturnBikes;\n              indexData.ServiceStatus = item.ServiceStatus;\n            }\n          });\n          this.areaKey = this.currentCategory[this.data[0].AuthorityID];\n          this.renderMarker(); // 渲染站點\n          this.getBikeRoad(); // 渲染腳踏車道\n        });\n    },\n    getBikeRoad() { // 依據所在地縣市腳踏車路線\n      const url = `https://ptx.transportdata.tw/MOTC/v2/Cycling/Shape/${this.areaKey}?$format=JSON`;\n      this.$http.get(url, { headers: getAuthorizationeHader() })\n        .then((res) => {\n          this.road = res.data;\n          this.road.forEach((item) => {\n            item.Geometry = wkt.read(item.Geometry).toJson();\n          });\n          this.showBikeRoad(); // 顯示所在地所有較踏車路徑\n        });\n    },\n    changeMapCenter(latitude, longitude) {\n      map.panTo([latitude, longitude]);\n      map.setZoom(16);\n    },\n    renderMap() { // 抓到自己座標後產生地圖\n      map = L.map('map', { ...this.local });\n      const redIcon = new L.Icon({\n        iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\n        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n        iconSize: [25, 41],\n        iconAnchor: [12, 41],\n        popupAnchor: [1, -34],\n        shadowSize: [41, 41],\n      });\n      L.tileLayer(\n        'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n        {\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n        },\n      ).addTo(map);\n      L.marker(this.local.center, { icon: redIcon }).addTo(map);\n      this.getBikeRentPosition(); // 抓取站點資料\n    },\n    renderMarker() { // 加入座標，放入座標群組(預設顯示可租車位的座標)\n      this.data.forEach((item) => {\n        const stationBike = L.divIcon({ // 預設icon黃色顯示為可租、黑色可還\n          html: `<div class=\"Rentstation map-marker\">\n          ${item.AvailableRentBikes}</div>`,\n          className: 'opactiy',\n        });\n        markers.addLayer(\n          L.marker([item.StationPosition.PositionLat, item.StationPosition.PositionLon],\n            { icon: stationBike }),\n        );\n      });\n      map.addLayer(markers);\n    },\n    showRentMarker() { // 渲染可租用車位\n      this.removeMarker();\n      this.data.forEach((item) => {\n        const stationBike = L.divIcon({ // 預設icon黃色顯示為可租、黑色可還\n          html: `<div class=\"Rentstation map-marker\">${item.AvailableRentBikes}</div>`,\n          className: 'opactiy',\n        });\n        markers.addLayer(\n          L.marker([item.StationPosition.PositionLat, item.StationPosition.PositionLon],\n            { icon: stationBike }),\n        );\n      });\n      map.addLayer(markers);\n    },\n    showReturnMarker() { // 渲染可還車位\n      this.removeMarker(); // 清除icon\n      this.data.forEach((item) => {\n        const stationBike = L.divIcon({ // 預設icon黃色顯示為可租、黑色可還\n          html: `<div class=\"Returnstation map-marker\">${item.AvailableReturnBikes}</div>`,\n          className: 'opactiy',\n        });\n        markers.addLayer(\n          L.marker([item.StationPosition.PositionLat, item.StationPosition.PositionLon],\n            { icon: stationBike }),\n        );\n      });\n      map.addLayer(markers);\n    },\n    switchRentReturn() { // 切換租車和可還車位\n      this.swichBikeStation = !this.swichBikeStation;\n      if (this.swichBikeStation) {\n        this.showRentMarker();\n      } else {\n        this.showReturnMarker();\n      }\n    },\n    showBikeRoad() {\n      const style = {\n        color: 'red',\n        weight: 3,\n        opacity: 0.5,\n      };\n      this.road.forEach((obj) => {\n        myLayer = L.geoJSON(obj.Geometry, {\n          style,\n        }).addTo(map);\n        myLayer.addData(obj.Geometry);\n        this.myLayers.push(myLayer);\n        map.fitBounds(myLayer.getBounds());\n        this.changeMapCenter(this.latitude, this.longitude);\n      });\n    },\n    removeMarker() { // 刪除全部marker\n      // console.log找markers 原生方法\n      markers.eachLayer((layer) => {\n        markers.removeLayer(layer);\n      });\n    },\n    swicthBikeRoad() {\n      this.switchBikesRoad = !this.switchBikesRoad;\n      if (this.switchBikesRoad) {\n        this.showBikeRoad();\n      } else {\n        this.removeBikeRoad();\n      }\n    },\n    removeBikeRoad() { // 刪除腳踏車全部路線\n      this.myLayers.forEach((item) => {\n        map.removeLayer(item);\n      });\n      this.myLayers = [];\n    },\n    getLocation() { // 抓取自己位置\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(this.showPosition); // 有拿到位置就呼叫 showPosition 函式\n      }\n    },\n    showPosition(position) {\n      this.latitude = position.coords.latitude;\n      this.longitude = position.coords.longitude;\n      this.local = {\n        center: [position.coords.latitude, position.coords.longitude],\n        zoom: 16,\n      };\n      this.renderMap();\n    },\n  },\n  mounted() {\n    this.getLocation(); // 讀取自己位置(非同步)\n  },\n};\n</script>\n","import { render } from \"./RentBike.vue?vue&type=template&id=436d703c\"\nimport script from \"./RentBike.vue?vue&type=script&lang=js\"\nexport * from \"./RentBike.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\腳踏車地圖\\\\travel-bike\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}